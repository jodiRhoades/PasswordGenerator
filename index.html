<!DOCTYPE html>
<html lang="en-us">

<head>
    <meta charset="UTF-8">
    <title>Password Generator</title>

    <link rel="stylesheet" type="text/css" href="assets\reset.css">
    <link rel="stylesheet" type="text/css" href="assets\style.css">
</head>

<body>

    <h1>Password Generator<h1>

            <div class="container">
                <div class="row">
                    <Section id="main-content">
                        <div class="card" style="width: 50%">
                            <div class="card-body class= clearfix col-sm-6 col-md-8 col-lg-12">
                                <h2 class="card-subtitle mb-2 text-muted">Generate a Password</h2>
                                <hr>
                                <br>
                                <p class="card-text" id="finalPassword">Your Secure Password</p>
                                <br>
                                <br>
                                <button id ='generate'>Generate Password</button>
                                <button id ='copy-link'>Copy to Clipboard</button>
                                <br>
                            </div>
                        </div>
                </div>
                â€‹
                <script>

                    // take the chosen characters the user wants to use and IF they want numbers, special characters, lower characters and upper characters//
                    var lowerLetters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"]
                    var upperLetters = ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
                    var numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
                    var specChar = ["!", ",", '"', "%", "'", "(", ")", "*", "+", ",", "-", ".", "/", ":", ";", "<", "=", ">", "?", "@", "[", "\\", "^", "`", "{", "|", "}"]
                    var passChoices = []

                    document.getElementById("generate").addEventListener("click", passLength)

                    // ask the user how many characters they want to use in their password//
                    function passLength() {
                        var pwdLength = parseInt(prompt("How many characters would you like your passward to use? (8-128)"));
                        console.log(pwdLength);
                        console.log(typeof pwdLength);

                        if (isNaN(pwdLength)) {
                            alert("It is not a number.  Please eneter a number from 8- 128");
                            passLength();
                        }

                        else if (pwdLength > 7 && pwdLength < 129) {
                            alert("Your number (" + pwdLength + ") matches requirements");
                        }
                        else if (pwdLength < 8 || pwdLength > 128) {
                            alert("Please choose a number between 8 - 128.");
                            passLength();
                        }
                        whatTheyWant(pwdLength);
                    }
                    // then ask if they want to use: numbers, special characters, lowers case characters or upper case characters//
                    function whatTheyWant(pwdLength) {

                        if (confirm("Do you want to use special characters?")) {
                            passChoices.push(specChar)
                        }

                        if (confirm("Do you want to use numeric characters?")) {
                            passChoices.push(numbers)
                        }

                        if (confirm("Do you want to use uppercase characters?")) {
                            passChoices.push(upperLetters)
                        }

                        if (confirm("Do you want to use lowercase characters?")) {
                            passChoices.push(lowerLetters)
                        }

                        console.log("You chose: " + specChar + " " + numbers + " " + lowerLetters + " " + upperLetters);

                        if (passChoices.length< 2) {
                            alert("You must choose at least two character types.")
                            whatTheyWant()
                        }

                        else {
                            console.log("here");
                            generate(pwdLength)
                        }
                    }


                    function generate(lengths) {
                        console.log("generate");
                        var randomChar = "";

                        for (var i = 0; i < lengths; i++) {
                            console.log("here")

                            whatArr = Math.floor(Math.random() * passChoices.length)

                            randomChar += passChoices[whatArr][Math.floor(Math.random() *
                                passChoices[whatArr].length)];

                        }
                        console.log(randomChar)
                        var passFinal = document.getElementById("finalPassword");
                        passFinal.innerText = randomChar;
                        console.log(passFinal);
                    }

                     

                
                    

                </script>
</body>

</html>